{"ast":null,"code":"// App.js\nimport React from'react';import'./App.css';import MainWeatherWindow from'./components/MainWeatherWindow';import CityInput from'./components/CityInput';import WeatherBox from'./components/WeatherBox';import Footer from'./components/Footer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";class App extends React.Component{constructor(){super(...arguments);this.state={city:undefined,days:new Array(5)};this.updateState=data=>{const city=data.city.name;const days=[];const dayIndices=this.getDayIndices(data);for(let i=0;i<5;i++){days.push({date:data.list[dayIndices[i]].dt_txt,weather_desc:data.list[dayIndices[i]].weather[0].description,icon:data.list[dayIndices[i]].weather[0].icon,temp:data.list[dayIndices[i]].main.temp});}this.setState({city:city,days:days});};this.makeApiCall=async city=>{const api_data=await fetch(\"https://api.openweathermap.org/data/2.5/forecast?q=\".concat(city,\"&APPID=6557810176c36fac5f0db536711a6c52\")).then(resp=>resp.json());if(api_data.cod==='200'){await this.updateState(api_data);return true;}else return false;};this.getDayIndices=data=>{let dayIndices=[];dayIndices.push(0);let index=0;let tmp=data.list[index].dt_txt.slice(8,10);for(let i=0;i<4;i++){while(tmp===data.list[index].dt_txt.slice(8,10)||data.list[index].dt_txt.slice(11,13)!=='15'){index++;}dayIndices.push(index);tmp=data.list[index].dt_txt.slice(8,10);}return dayIndices;};}render(){const WeatherBoxes=()=>{const weatherBoxes=this.state.days.slice(1).map((day,index)=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(WeatherBox,{...day})},index));return/*#__PURE__*/_jsx(\"ul\",{className:\"weather-box-list\",children:weatherBoxes});};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"App-header\",children:/*#__PURE__*/_jsxs(MainWeatherWindow,{data:this.state.days[0],city:this.state.city,children:[/*#__PURE__*/_jsx(CityInput,{city:this.state.city,makeApiCall:this.makeApiCall.bind(this)}),/*#__PURE__*/_jsx(WeatherBoxes,{})]})}),/*#__PURE__*/_jsx(Footer,{})]});}}export default App;","map":{"version":3,"names":["React","MainWeatherWindow","CityInput","WeatherBox","Footer","jsx","_jsx","jsxs","_jsxs","App","Component","constructor","arguments","state","city","undefined","days","Array","updateState","data","name","dayIndices","getDayIndices","i","push","date","list","dt_txt","weather_desc","weather","description","icon","temp","main","setState","makeApiCall","api_data","fetch","concat","then","resp","json","cod","index","tmp","slice","render","WeatherBoxes","weatherBoxes","map","day","children","className","bind"],"sources":["F:/weather-app/Weather_App/src/App.js"],"sourcesContent":["// App.js\r\nimport React from 'react';\r\nimport './App.css';\r\nimport MainWeatherWindow from './components/MainWeatherWindow';\r\nimport CityInput from './components/CityInput';\r\nimport WeatherBox from './components/WeatherBox';\r\nimport Footer from './components/Footer';\r\n\r\nclass App extends React.Component {\r\n  state = {\r\n    city: undefined,\r\n    days: new Array(5)\r\n  };\r\n\r\n  updateState = data => {\r\n    const city = data.city.name;\r\n    const days = [];\r\n    const dayIndices = this.getDayIndices(data);\r\n\r\n    for (let i = 0; i < 5; i++) {\r\n      days.push({\r\n        date: data.list[dayIndices[i]].dt_txt,\r\n        weather_desc: data.list[dayIndices[i]].weather[0].description,\r\n        icon: data.list[dayIndices[i]].weather[0].icon,\r\n        temp: data.list[dayIndices[i]].main.temp\r\n      });\r\n    }\r\n\r\n    this.setState({\r\n      city: city,\r\n      days: days\r\n    });\r\n  };\r\n\r\n  makeApiCall = async city => {\r\n    const api_data = await fetch(\r\n      `https://api.openweathermap.org/data/2.5/forecast?q=${city}&APPID=6557810176c36fac5f0db536711a6c52`\r\n    ).then(resp => resp.json());\r\n\r\n    if (api_data.cod === '200') {\r\n      await this.updateState(api_data);\r\n      return true;\r\n    } else return false;\r\n  };\r\n\r\n  getDayIndices = data => {\r\n    let dayIndices = [];\r\n    dayIndices.push(0);\r\n\r\n    let index = 0;\r\n    let tmp = data.list[index].dt_txt.slice(8, 10);\r\n\r\n    for (let i = 0; i < 4; i++) {\r\n      while (\r\n        tmp === data.list[index].dt_txt.slice(8, 10) ||\r\n        data.list[index].dt_txt.slice(11, 13) !== '15'\r\n      ) {\r\n        index++;\r\n      }\r\n      dayIndices.push(index);\r\n      tmp = data.list[index].dt_txt.slice(8, 10);\r\n    }\r\n    return dayIndices;\r\n  };\r\n\r\n  render() {\r\n    const WeatherBoxes = () => {\r\n      const weatherBoxes = this.state.days.slice(1).map((day, index) => (\r\n        <li key={index}>\r\n          <WeatherBox {...day} />\r\n        </li>\r\n      ));\r\n\r\n      return <ul className='weather-box-list'>{weatherBoxes}</ul>;\r\n    };\r\n\r\n    return (\r\n      <div className='App'>\r\n        <header className='App-header'>\r\n          <MainWeatherWindow data={this.state.days[0]} city={this.state.city}>\r\n            <CityInput city={this.state.city} makeApiCall={this.makeApiCall.bind(this)} />\r\n            <WeatherBoxes />\r\n          </MainWeatherWindow>\r\n        </header>\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}